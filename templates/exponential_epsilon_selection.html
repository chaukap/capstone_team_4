{% extends "layout_2.html" %}
{% block title %}Epsilon{% endblock %}
{% block head %}
{{ super() }}
{% endblock %}
{% block content %}

<section class="sdp-page-banner" id="Exponential">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="ud-banner-content">
                    <h1>Select Îµ</h1>
                </div>
            </div>
        </div>
    </div>
</section> 

<section>
    <div class="container sdp-container">
        <div class="row">
        <div class="col-lg-12">
            <div class="ud-section-title m-auto text-center">
              <p>
                Use the slider to simulate how epsilon will affect your results.
                <br>The higher the epsilon value, the less private your dataset.
                <br>*Double-click to zoom out.
                <br>
                <a href="https://github.com/chaukap/capstone_team_4/blob/main/4_Exponential_Mechanisms_Expand_Protection.ipynb" target="_blank">
                    <span>Learn more about the exponential mechanism</span>
                    <span class="bi-arrow-right"></span>
                </a>
              </p>
            </div>
          </div>
        </div>
        <div class="container">{{plot | safe}}</div>
        <form action="/query" method="POST">
            <div hidden>
                <label for="dummy_values">Dummy Values</label>
                <span class="a11y-input-tooltip">
                    <input type="text" name="dummy_values" id="dummy_values" aria-describedby="a11y-tooltip"
                        value="{{dummy_values}}"/>
            </div>

            <div hidden>
                <label for="epsilon">Epsilon</label>
                <span class="a11y-input-tooltip">
                    <input type="number" step="0.01" name="epsilon" id="epsilon" aria-describedby="a11y-tooltip"
                        value="4" required="required" />
                    <span role="tooltip" id="a11y-tooltip">
                        The higher the value, the less private your dataset.
                    </span>
                </span>
            </div>

            <div hidden>
                <label for="database_id">Database Id</label>
                <span class="a11y-input-tooltip">
                    <input type="text" name="database_id" id="database_id" aria-describedby="a11y-tooltip"
                        value="{{database_id}}" required="required" />
            </div>

            <div hidden>
                <label for="statistic">Statistic</label>
                <span class="a11y-input-tooltip">
                    <input type="text" name="statistic" id="statistic" aria-describedby="a11y-tooltip"
                        value="{{statistic}}" required="required" />
            </div>

            <div hidden>
                <label for="query_type">Query Type</label>
                <span class="a11y-input-tooltip">
                    <input type="text" name="query_type" id="query_type" aria-describedby="a11y-tooltip"
                        value="{{query_type}}" required="required" />
            </div>

            <div hidden>
                <label for="upper_bound">Upper Bound</label>
                <span class="a11y-input-tooltip">
                    <input type="text" name="upper_bound" id="upper_bound" aria-describedby="a11y-tooltip"
                        value="{{upper_bound}}" required="required" />
            </div>

            <div hidden>
                <label for="lower_bound">Lower Bound</label>
                <span class="a11y-input-tooltip">
                    <input type="text" name="lower_bound" id="lower_bound" aria-describedby="a11y-tooltip"
                        value="{{lower_bound}}" required="required" />
            </div>

            <div class="form-group my-2">
                <input type="submit" class="sdp-button form-control" value="Create Query">
            </div>
        </form>
    </div>
</section>

<script>
    $(function () {
        $(".slider-container").click(function () {
            text = $(".gtitle").html().replace("Epsilon: ", '');
            $("input#epsilon").attr("value", parseFloat(text) + "");
        });
    });
</script>

{% endblock %}